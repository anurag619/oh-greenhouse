{% load custom_tags %}
{% block dashboard %}

<p>The purpose of this app is to help Debian Developer Advisory Team get in touch with new Debian contributors. 
People who should get pinged are active contributors who become inactive as well as experienced people who should 
be applying for developer status. 
</p>
<div id='content' class='row-fluid'>

<div class='dashboard-box span4'>
    <h3>New comers not greeted yet:</h3>
    {% for p in first_timers|dictsortreversed:"first_upload.timestamp" %}
        <li><a href="contributors/{{ p.email }}">{{ p.name }}</a>, {{ p.first_upload.timestamp|date:"SHORT_DATE_FORMAT" }}</li>
    {% endfor %}
</div>

<div class='dashboard-box span4'>
    <h3>Have done 40 uploads but need to be contacted:</h3>
    {% for p in experienced|dictsortreversed:"last_upload.timestamp" %}
        <li><a href="contributors/{{ p.email }}">{{ p.name }}</a>, {{ p.total_uploads }} uploads</li>
    {% endfor %}
</div>

<div class='dashboard-box span4'>
    <h3>Haven't done an upload since being contacted:</h3>
    {% for p in inactive|dictsortreversed:"last_upload.timestamp" %}
        <li><a href="contributors/{{ p.email }}">{{ p.name }}</a>, {{ p.last_upload.timestamp|date:"SHORT_DATE_FORMAT" }}</li>
    {% endfor %}
</div>

<div class='dashboard-box span4'>
    <h3>Was recently contacted:</h3>
    {% for p in contacted %}
        <li><a href="contributors/{{ p.email }}">{{ p.name }}</a>, {{ p.last_upload.timestamp|date:"SHORT_DATE_FORMAT" }}</li>
    {% endfor %}
</div>

</div>

<div id='action_log'>
    <h2>Your Most Recent Actions:</h2>
        <ul>{% for action in actions|slice:":20" %}
            <li>{{ action.action_time|date:"D d M Y" }}:
                <a href="/contributors/{{ action.object_repr }}">
                    {{ action.change_message }}</a></li>
            {% endfor %}
        </ul>
</div>
{% endblock %}
